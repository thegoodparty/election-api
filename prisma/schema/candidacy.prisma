enum ElectionResult {
  WON
  LOST
  RUNOFF

  @@map("election_result")
}

model Candidacy {
  id           String   @id @map("id") @db.Uuid
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")
  brDatabaseId Int      @map("br_database_id")
  slug         String   @unique // slugify firstName-lastName-normalizedPositionName

  // Candidacy
  firstName String
  lastName  String
  party     String // Use index 0 of parties array

  // Race for state, and potentially longest geoid Place on Race?
  city  String?
  state String?

  // Person
  image String? // Use index 0 of images array
  about String? // From bioText on Person - if not available, generateAbout()
  urls  String[]

  // GP-API (P2V)
  projectedTurnout      Int?
  republicans           Int?
  democrats             Int?
  independents          Int?
  totalRegisteredVoters Int?

  // GP-API (top issues and campaignPosition if a user, if not present, then use stances.issue and stances.statement from BR)
  topIssues Json? // Array of objects with { issue, statement }

  // GP-API Campaign
  email              String?
  pastExperience     String? // Formerly jobHistory
  previouslyInOffice Boolean?
  priorRoles         String? // Can be comma-separated string if array

  // Position (from Candidacy -> Position)
  electionFrequency      String? // Formerly called term
  salary                 Int?
  normalizedPositionName String?
  positionDescription    String?

  Race   Race?   @relation(fields: [raceId], references: [id])
  raceId String? @map("race_id") @db.Uuid
}
