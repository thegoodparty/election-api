/**
 * MUNICIPALITY
 * (Implements Slug)
 * Represents a municipality that belongs to a county and can have races
 */

enum MunicipalityType {
  LOCAL
  CITY
  TOWN
  TOWNSHIP
  VILLAGE
}

model Municipality {
  id        String   @id @default(uuid()) @db.Uuid
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  slug  String           @unique
  name  String
  type  MunicipalityType
  state String?          @db.Char(2)

  // Belongs to county (many-to-one)
  countyId String? @map("county_id") @db.Uuid
  county   County? @relation(fields: [countyId], references: [id])

  @@map("municipality")
}
