/**
 * ORGANIZATION
 * (Implements DatabaseIdentifiable, Node, Timestamps)
 * Represents an organization that can endorse candidates
 */
model Organization {
  id             String         @id @db.Uuid
  brHashId       String?        @map("br_hash_id")
  brDatabaseId   Int?           @map("br_database_id")
  createdAt      DateTime       @map("created_at")
  updatedAt      DateTime       @map("updated_at")
  
  name           String
  description    String?
  color          String?
  logoUrl        String?        @map("logo_url")
  state          String?
  retiredAt      DateTime?      @map("retired_at")
  
  // Parent-child relationship
  parentId       String?        @map("parent_id") @db.Uuid
  parent         Organization?  @relation("OrganizationHierarchy", fields: [parentId], references: [id])
  children       Organization[] @relation("OrganizationHierarchy")
  
  // Issue relationship
  issueId        String?        @map("issue_id") @db.Uuid
  issue          Issue?         @relation(fields: [issueId], references: [id])
  
  // One organization -> many endorsements
  endorsements   Endorsement[]
  
  // One organization -> many URLs
  urls           Url[]
  
  @@map("organization")
} 