/**
 * ORGANIZATION
 * (Implements DatabaseIdentifiable, Node, Timestamps)
 * Represents an organization that can endorse candidates
 */
model organization {
  id          Int           @id @default(autoincrement())
  databaseId  Int?          @map("database_id")
  createdAt   DateTime      @map("created_at")
  updatedAt   DateTime      @map("updated_at")
  
  name        String
  description String?
  color       String?
  logoUrl     String?       @map("logo_url")
  state       String?
  retiredAt   DateTime?     @map("retired_at")
  
  // Parent-child relationship
  parentId    Int?          @map("parent_id")
  parent      organization? @relation("OrganizationHierarchy", fields: [parentId], references: [id])
  children    organization[] @relation("OrganizationHierarchy")
  
  // Issue relationship
  issueId     Int?          @map("issue_id")
  issue       issue?        @relation(fields: [issueId], references: [id])
  
  // One organization -> many endorsements
  endorsements endorsement[]
  
  // One organization -> many URLs
  urls        url[]
  
  @@map("organization")
} 